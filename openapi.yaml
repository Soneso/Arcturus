openapi: 3.0.1
info:
  title: Arcturus Stellar Plugin
  description: A plugin that allows the user to request information about accounts from the Stellar Network (Blockchain) using ChatGPT. An account is identified by it's account id. If you do not know the account id ask the user for it.
  version: 'v1'
servers:
  - url: http://localhost:5003
paths:
  /account/details/{account_id}:
    get:
      operationId: getAccountDetails
      summary: Get the current details for the given account. 
      parameters:
      - in: path
        name: account_id
        schema:
            type: string
        required: true
        description: Id of the account to get the details for.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccountDetails'
        "404":
          description: Account was not found on the Stellar Network.
  /assets/for_issuer/{issuer_account_id}:
    get:
      operationId: getAssetsForIssuer
      summary: Get information about all assets issued by this issuer account. 
      parameters:
      - in: path
        name: issuer_account_id
        schema:
            type: string
        required: true
        description: Id of the account to get the information for.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetsResponse'
        "404":
          description: Account was not found on the Stellar Network.
  /claimable_balances/for_claimant/{claimant_account_id}:
    get:
      operationId: getClaimableBalancesForClaimant
      summary: Get information about all claimable balances having the given account as a claimant. 
      parameters:
      - in: path
        name: claimant_account_id
        schema:
            type: string
        required: true
        description: Id of the account to get the information for.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimableBalancesResponse'
        "404":
          description: Account was not found on the Stellar Network.
  /claimable_balances/for_sponsor/{sponsor_account_id}:
    get:
      operationId: getClaimableBalancesForSponsor
      summary: Get information about all claimable balances having the given account as a sponsor. 
      parameters:
      - in: path
        name: sponsor_account_id
        schema:
            type: string
        required: true
        description: Id of the account to get the information for.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimableBalancesResponse'
        "404":
          description: Account was not found on the Stellar Network.
  /claimable_balances/claimable_balance/{claimable_balance_id}:
    get:
      operationId: getClaimableBalancesForId
      summary: Get information about a claimable balance identified by the claimable balance id. 
      parameters:
      - in: path
        name: claimable_balance_id
        schema:
            type: string
        required: true
        description: Id of the claimable balance to get the information for.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimableBalance'
        "404":
          description: Claimable balance was not found on the Stellar Network.
components:
  schemas:
    AccountDetails:
      type: object
      properties:
        id:
          type: string
          description: A unique identifier for this account.
        account_id:
          title: Account Id or Public Key
          type: string
          description: This account's public key encoded in a base32 string representation (same as id). The public key was used to create this account.
        sequence:
          title: Sequence Number
          type: integer
          description: This account's current sequence number. Used to identify and verify the order of transactions with this account as a source account.
        sequence_ledger:
          title: Sequence Ledger
          type: integer
          description: The unsigned 32-bit ledger number of the sequence number's age.
        sequence_time:
          title: Sequence Time
          type: integer
          description: The unsigned 64-bit UNIX timestamp of the sequence number's age.
        subentry_count:
          title: Subentry Count
          type: integer
          description: The number of subentries on this account. Subentries can be Trustlines, Offers, Additional signers or Data entries.
        home_domain:
          title: Home Domain
          type: string
          description: A fully qualified domain name (FQDN) linked to this Stellar account, used to generate an on-chain link to a Stellar Info File (stellar.toml), which holds off-chain metadata. Optional.
        last_modified_ledger:
          title: Last Modified Ledger
          type: number
          description: The ID of the last ledger that included changes to this account.
        last_modified_time:
          title: Last Modified Time
          type: string
          description: The time this account was modified the last time.
        num_sponsoring:
          title: Sponsoring reserves
          type: number
          description: The number of reserves sponsored by this account.
        num_sponsored:
          title: Sponsored reserves
          type: number
          description: The number of reserves sponsored for this account.
        sponsor:
          title: Sponsor
          type: string
          description: The account ID of the sponsor who is paying the reserves for this account. Optional.
        thresholds:
          $ref: "#/components/schemas/AccountThresholds"
        flags:
          $ref: "#/components/schemas/AccountFlags"
        balances:
          $ref: "#/components/schemas/AccountBalances"
        signers:
          $ref: "#/components/schemas/AccountSigners"
        data:
          title: Account Data
          type: object
          description: An array of account data fields. Contains key/value pairs. The values are base64 encoded. Try to decode the value before showing it to the user. If the decoded value is human readable show the decoded value otherwise show the encoded value.
    AccountThresholds:
      type: object
      description: Transactions include Operations. Operations have varying levels of access. This object specifies thresholds for different access levels, as well as the weight of the master key.
      properties:
        low_threshold:
          type: integer
          description: The weight required for a valid transaction including the Allow Trust and Bump Sequence operations.
        med_threshold:
          type: integer
          description: The weight required for a valid transaction including the Create Account, Payment, Path Payment, Manage Buy Offer, Manage Sell Offer, Create Passive Sell Offer, Change Trust, Inflation, and Manage Data operations.
        high_threshold:
          type: integer
          description: The weight required for a valid transaction including the Account Merge and Set Options operations.
    AccountFlags:
      type: object
      description: This account can be an asset issuer. If this account is an asset issuer, the flags denote the enabling/disabling of certain asset issuer privileges. To check if this account is an issuer account you can query the assets for it.
      properties:
        auth_immutable:
          type: boolean
          description: If set to true, none of the other flags can be changed.
        auth_required:
          type: boolean
          description: If set to true, anyone who wants to hold an asset issued by this account must first be approved by this account.
        auth_revocable:
          type: boolean
          description: If set to true, this account can freeze the balance of a holder of an asset issued by this account.
        auth_clawback_enabled:
          type: boolean
          description: If set to true, trustlines created for assets issued by this account have clawbacks enabled.
    AccountBalances:
      type: array
      description: The balances of the assets this account holds. Contains one entry for each asset this account holds. Each asset has its own balance and these balances are stored in trustlines for every asset except XLM, which is held directly by the account.
      title: Balances
      items:
        balance:
          title: Balance
          type: number
          format: float
          description: The number of units of this asset held by this account.
        buying_liabilities:
          title: Buying Liabilities
          type: number
          format: float
          description: The sum of all buy offers owned by this account for this asset. Optional.
        selling_liabilities:
          title: Selling Liabilities
          type: number
          format: float
          description: The sum of all sell offers owned by this account for this asset. Optional.
        limit:
          title: Limit
          type: number
          format: float
          description: The maximum amount of this asset that this account is willing to accept. Specified when opening a trustline. Optional. 
        asset_type:
          title: Asset Type
          type: string
          description: Either native, credit_alphanum4, credit_alphanum12, or liquidity_pool_shares.
        asset_code:
          title: Asset Code
          type: string
          description: An asset's identifying code. Optional. Only available if asset type is not native.
        asset_issuer:
          title: Asset Issuer
          type: string
          description: The account id of this asset's issuer. Optional. Only available if not native.
        sponsor:
          title: Trustline Sponsor
          type: string
          description: The account id of the sponsor who is paying the reserves for this trustline. Optional.
    AccountSigners:
      type: array
      description: The public keys and associated weights that can be used to authorize transactions for this account. Used for multi-sig.
      title: Signers
      items:
        weight:
          title: Weight
          type: integer
          description: The numerical weight of a signer. Used to determine if a transaction meets the threshold requirements.
        sponsor:
          title: Signer Sponsor
          type: string
          description: The account ID of the sponsor who is paying the reserves for this signer. Optional.
        key:
          title: Signer Key
          type: string
          description: A hash of characters dependent on the signer type.
        type:
          title: Signer Type
          type: string
          description: The type of hash for this signer. Can be ed25519_public_key representing a normal Stellar public key (account ID) or sha256_hash representing the SHA256 hash of some arbitrary x. Adding a signature of the type sha256_hash allows anyone who knows x to sign a transaction from this account. Note, Once this transaction is broadcast, x will be known publicly. Or it can be preauth_tx representing the hash of a pre-authorized transaction. This signer is automatically removed from the account when a matching transaction is properly applied. 
    AssetsResponse:
      type: array
      description: A list of assets. Accounts on the Stellar network can be used to track, hold, and transfer any type of asset. Assets can represent many things, cryptocurrencies (such as bitcoin or ether), fiat currencies (such as dollars or pesos), other tokens of value (such as NFTs), pool shares, or even bonds and equity.
      title: Assets
      items:
        asset_type:
          title: Asset Type
          type: string
          description: This asset's type. Either credit_alphanum4 or credit_alphanum12.
        asset_code:
          title: Asset Code
          type: string
          description: This asset's code. Assets on Stellar have two identifying characteristics, the asset code and the issuer. Since more than one organization can issue a credit representing the same asset, asset codes often overlap (for example, multiple companies offer a USD token on Stellar). Assets are uniquely identified by the combination of their asset code and issuer.
        asset_issuer:
          title: Asset Issuer
          type: string
          description: The Stellar account id of this asset's issuer.
        accounts:
          $ref: "#/components/schemas/AssetAccounts"
        num_claimable_balances:
          title: Nr. of claimable balances
          type: integer
          description: The current number of claimable balances for this asset.
        num_liquidity_pools:
          title: Nr. of liquidity pools
          type: integer
          description: The current number of liquidity pools for this asset.
        balances:
          $ref: "#/components/schemas/AssetBalances"
        claimable_balances_amount:
          title: Claimable balances amount
          type: number
          format: float
          description: The number of units in claimable balances for this asset.
        liquidity_pools_amount:
          title: Liquidity pools amount
          type: number
          format: float
          description: The number of units in liquidity pools for this asset.
        amount:
          title: Amount
          type: number
          format: float
          description: The number of authorized units issued for this asset.
        num_accounts:
          title: Nr. of accounts
          type: integer
          description: The number of accounts that have issued a trustline to this asset. If the auth_required flag for this asset's issuer is set to true, this number only includes the accounts who have both set up a trustline to the asset and have been authorized to hold the asset. 
        flags:
          $ref: "#/components/schemas/AssetFlags"
        _links:
          $ref: "#/components/schemas/AssetExternalLinks"
    AssetAccounts:
      type: object
      description: Information about the number of Stellar accounts holding this asset.
      properties:
        authorized:
          type: integer
          description: Number of accounts that have a trustline to this asset and are authorized to hold this asset.
        authorized_to_maintain_liabilities:
          type: integer
          description: Number of accounts that are authorized to maintain liabilities for this asset.
        unauthorized:
          type: integer
          description: Number of accounts that have a trustline to this asset but are not authorized to hold this asset.
    AssetBalances:
      type: object
      description: Information about balances of this asset hold by other accounts.
      properties:
        authorized:
          type: number
          format: float
          description: Number of units of this asset authorized to be hold by other accounts that have a trustline to this asset.
        authorized_to_maintain_liabilities:
          type: number
          format: float
          description: Number of units of this asset authorized to maintain liabilities hold by other accounts.
        unauthorized:
          type: number
          format: float
          description: Number of units of this asset unauthorized to be hold by other accounts that have a trustline to this asset.
    AssetFlags:
      type: object
      description: Flags denoting the enabling/disabling of certain asset issuer privileges.
      properties:
        auth_required:
          type: boolean
          description: If set to true, anyone who wants to hold this asset must first be authorized by it's issuer account.
        auth_revocable:
          type: boolean
          description: If set to true, the issuer account of this asset can freeze the asset's balance of a holder.
        auth_clawback_enabled:
          type: boolean
          description: If set to true, trustlines created for this asset have clawbacks enabled.
        auth_immutable:
          type: boolean
          description: If set to true, none of the other flags of this asset can be changed.
    AssetsExternalLinks:
      type: array
      description: A list of links to external information about this asset. Currently only contains a link to a Stellar Info File (toml), which holds off-chain metadata about the asset and it's issuer.
      title: Asset Links
      items:
        toml:
          title: Toml
          type: object
          description: A link to the Stellar Info File holding off-chain metadata about the asset and the issuer of this asset.
          properties:
            href:
            type: string
            description: Contains the link target (url) to the stellar info file holding off-chain metadata about the asset and it's issuer.
    ClaimableBalancesResponse:
      type: array
      description: A list of claimable balances.
      title: Claimable Balances
      items:
        $ref: "#/components/schemas/ClaimableBalance"
    ClaimableBalance:
      type: object
      description: A claimable balance represents the transfer of ownership of some amount of an asset. Claimable balances provide a mechanism for setting up a payment which can be claimed in the future. This allows an account to make payments to other accounts which are currently not able to accept them.
      title: Claimable Balance
      properties:
        id:
          title: ID
          type: string
          description: A unique identifier for this claimable balance.
        asset:
          title: Asset
          type: string
          description: The asset available to be claimed. It can be native (for XML) of if not native, than formatted like this "asset_code:asset_issuer_id".
        amount:
          title: Amount
          type: number
          format: float
          description: The amount of asset that can be claimed.
        sponsor:
          title: Sponsor
          type: string
          description: The account id of the sponsor who is paying the reserves for this claimable balance. Optional.
        last_modified_ledger:
          title: Last Modified Ledger
          type: integer
          description: The ID of the last ledger that included changes to this claimable balance.
        last_modified_time:
          title: Last Modified Time
          type: string
          description: The time this claimable balance was modified the last time.
        claimants:
          type: array
          description: The list of entries which could claim the claimable balance.
          title: Claimants
          items:
            destination:
              title: ID
              type: string
              description: The account ID who can claim the balance.
            predicate:
              $ref: "#/components/schemas/ClaimantPredicate"
    ClaimantPredicate:
      type: object
      description: The condition which must be satisfied so that the destination account (claimant) of a claimable balance can claim the balance.
      properties:
        unconditional:
          type: boolean
          description: If true it means this clause of the condition is always satisfied. Optional.
        and:
          type: array
          description: The array will always contain two elements which also are predicates. This clause of the condition is satisfied if both of the two elements in the array are satisfied. Optional.
          items:
            $ref: "#/components/schemas/ClaimantPredicate"
        or:
          type: array
          description: The array will always contain two elements which also are predicates. This clause of the condition is satisfied if at least one of the two elements in the array are satisfied. Optional.
          items:
            $ref: "#/components/schemas/ClaimantPredicate"
        not:
          $ref: "#/components/schemas/ClaimantPredicate"
          description: The value is also a predicate. This clause of the condition is satisfied if the value is not satisfied. Optional.          
        absBefore:
          type: string
          description: Optional. A customized ISO 8601 formatted string representing a deadline for when the claimable balance can be claimed. If the balance is claimed before the date then this clause of the condition is satisfied. The format of this date string is a custom extension on top of ISO 8601 format. It allows for years to be outside the 0000-9999 range. The dates are derived from a unix epoch value in range of signed 64 bit integer. This means the date expresses a much larger calendar range of 292277026596 years into future and -292471206707 years back in past. This custom extension format will add a '+' prefix on values that go beyond year 9999 into the future and for years that are prior to year 0(B.C per Gregorian calendar) it will add prefix of '-'. Here are examples of date string values that are possible '2022-02-10T15:30:22Z', '+39121901036-03-29T15:30:22Z', '-7025-12-23T00:00:00Z'
        absBeforeEpoch:
          type: string
          description: Optional. A unix epoch value in seconds representing the same deadline date for when the claimable balance can be claimed. It is the same date/time value that absBefore represents, just expressed in integral unix epoch seconds within the range of a signed 64bit integer.
        relBefore:
          type: string
          description: Optional. A relative deadline for when the claimable balance can be claimed. The value represents the number of seconds since the close time of the ledger which created the claimable balance.
        